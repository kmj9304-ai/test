<!DOCTYPE html>
<html lang="ko" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>대한민국 ESG — 일상에서 시작하는 변화</title>
  <meta name="description" content="대한민국 ESG 운동을 한 페이지로. 쉽게 이해하고, 오늘 바로 실천할 수 있는 꿀팁과 체크리스트, 자료 모음." />
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/variable/pretendardvariable-dynamic-subset.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='48' fill='%230046ff'/><text x='50' y='60' font-size='54' text-anchor='middle' fill='white' font-family='Arial'>E</text></svg>">
  <!-- OG -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="대한민국 ESG — 일상에서 시작하는 변화" />
  <meta property="og:description" content="ESG를 가장 쉽게. 오늘 당장 실천할 수 있는 꿀팁과 체크리스트." />
  <meta property="og:image" content="https://dummyimage.com/1200x630/0b0f1a/ffffff&text=Korea+ESG" />
  <meta name="theme-color" content="#0046ff" />
  <style>
    /* -------- Reset & Base -------- */
    *,*::before,*::after{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:Pretendard Variable,system-ui,-apple-system,Segoe UI,Roboto,"Apple SD Gothic Neo","Noto Sans KR",Arial,sans-serif;color:var(--ink);background:var(--bg);-webkit-font-smoothing:antialiased;}
    img{max-width:100%;display:block}
    a{color:inherit;text-decoration:none}
    :root{
      --ink:#0b1220; --ink-2:#1f2937; --muted:#667085; --line:#e6e9ef; --line-2:#eceef3;
      --primary:#0046ff; --primary-2:#2f6bff; --ring:rgba(0,70,255,.18);
      --bg:#ffffff; --bg-2:#f7f8fb; --card:#fff; --ok:#16a34a; --warn:#f59e0b;
      --max:1200px; --radius:16px; --shadow:0 10px 30px rgba(2,6,23,.08);
      --header-h:64px;
    }
    @media (prefers-color-scheme: dark){
      html[data-theme="auto"]:root{--ink:#e6e6f0; --ink-2:#cbd5e1; --muted:#94a3b8; --line:#263040; --line-2:#1e2633; --bg:#0b0f1a; --bg-2:#0e1424; --card:#101726}
    }
    html[data-theme="dark"]:root{--ink:#e6e6f0; --ink-2:#cbd5e1; --muted:#94a3b8; --line:#263040; --line-2:#1e2633; --bg:#0b0f1a; --bg-2:#0e1424; --card:#101726}

    .container{max-width:var(--max);margin-inline:auto;padding-inline:24px}
    .btn{display:inline-flex;gap:10px;align-items:center;justify-content:center;padding:12px 18px;border-radius:999px;background:var(--primary);color:#fff;font-weight:600;box-shadow:0 6px 14px rgba(0,70,255,.24);transition:transform .1s ease,box-shadow .2s ease}
    .btn:hover{transform:translateY(-1px);box-shadow:0 10px 20px rgba(0,70,255,.28)}
    .btn.ghost{background:transparent;color:var(--ink);border:1px solid var(--line)}
    .chip{display:inline-flex;align-items:center;gap:8px;border:1px solid var(--line);border-radius:999px;padding:8px 12px;font-weight:600}
    .tag{display:inline-block;font-size:12px;font-weight:700;letter-spacing:.02em;text-transform:uppercase;padding:6px 10px;border-radius:999px;background:#eef2ff;color:#1e40af}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

    /* -------- Header -------- */
    .header{position:sticky;top:0;backdrop-filter:saturate(180%) blur(8px);background:color-mix(in srgb, var(--bg), transparent 20%);border-bottom:1px solid var(--line-2);z-index:50}
    .nav{height:var(--header-h);display:flex;align-items:center;justify-content:space-between;gap:16px}
    .nav a{padding:10px 12px;border-radius:10px}
    .nav a:hover{background:var(--bg-2)}
    .brand{display:flex;align-items:center;gap:10px;font-weight:800}
    .logo{width:28px;height:28px;border-radius:8px;background:linear-gradient(135deg,#0046ff,#7aa5ff);display:grid;place-items:center;color:#fff;font-weight:900}
    .right{display:flex;gap:8px;align-items:center}

    /* -------- Hero -------- */
    .hero{position:relative;padding:84px 0 48px;background:
      radial-gradient(1200px 500px at 50% -50%, rgba(47,107,255,.18), transparent 60%),
      linear-gradient(180deg, var(--bg) 0%, var(--bg-2) 100%);
      overflow:clip
    }
    .hero .title{font-size:clamp(28px,5vw,48px);line-height:1.08;margin:0 0 14px;font-weight:900;letter-spacing:-.02em}
    .hero .lead{font-size:clamp(16px,2.4vw,18px);color:var(--muted);max-width:720px}
    .hero-cta{display:flex;gap:12px;flex-wrap:wrap;margin-top:22px}
    .kpis{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-top:32px}
    .kpi{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);padding:18px 16px;box-shadow:var(--shadow)}
    .kpi b{font-size:28px}

    /* -------- Sections -------- */
    section{padding:64px 0;border-top:1px solid var(--line-2)}
    section .h{display:flex;align-items:end;justify-content:space-between;gap:16px;margin-bottom:24px}
    .h h2{margin:0;font-size:26px;letter-spacing:-.01em}
    .grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
    .grid-2{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}
    .card{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);padding:18px;box-shadow:var(--shadow)}
    .card h3{margin:0 0 8px;font-size:18px}
    .eyebrow{font-size:12px;text-transform:uppercase;letter-spacing:.08em;color:var(--muted);font-weight:700}

    /* Tips filter */
    .filters{display:flex;gap:8px;flex-wrap:wrap}
    .filter{border:1px solid var(--line);border-radius:999px;padding:8px 12px;font-weight:700;cursor:pointer;background:transparent}
    .filter[aria-pressed="true"]{background:#ebf2ff;border-color:#bcd1ff}
    .tips{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
    .tip{display:flex;gap:12px}
    .tip .ic{flex:0 0 36px;height:36px;border-radius:10px;background:#eef2ff;display:grid;place-items:center}
    .tip[data-hide="true"]{display:none}

    /* Checklist */
    .checklist{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
    .item{display:flex;gap:12px;align-items:flex-start}
    .item input{margin-top:3px}
    .score{display:flex;gap:12px;align-items:center}
    .meter{flex:1;height:10px;background:var(--line);border-radius:999px;position:relative;overflow:hidden}
    .meter>i{position:absolute;inset:0;width:0;background:linear-gradient(90deg,#60a5fa,#34d399);transition:width .4s ease}

    /* Resources */
    .res-list{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
    .res{display:flex;justify-content:space-between;align-items:center;border:1px dashed var(--line);border-radius:12px;padding:14px 16px}
    .res a{font-weight:700;color:var(--primary)}

    /* FAQ */
    details{border:1px solid var(--line);border-radius:12px;padding:14px 16px;background:var(--card)}
    details+details{margin-top:10px}
    summary{cursor:pointer;font-weight:700}

    /* Footer */
    .footer{padding:48px 0;background:var(--bg);border-top:1px solid var(--line-2);color:var(--muted)}

    /* Sticky Actions */
    .actions{position:fixed;right:16px;bottom:16px;display:flex;flex-direction:column;gap:8px;z-index:60}
    .fab{width:48px;height:48px;border-radius:50%;display:grid;place-items:center;color:#fff;background:var(--primary);box-shadow:0 10px 24px rgba(0,70,255,.28);cursor:pointer}
    .toast{position:fixed;left:50%;bottom:24px;transform:translateX(-50%) translateY(20px);opacity:0;transition:all .25s ease;background:#111827;color:#fff;padding:12px 16px;border-radius:12px;box-shadow:var(--shadow);z-index:70}
    .toast.show{opacity:1;transform:translateX(-50%) translateY(0)}

    /* Mobile */
    @media (max-width:1024px){.grid-3{grid-template-columns:1fr 1fr}.tips{grid-template-columns:1fr 1fr}.checklist{grid-template-columns:1fr 1fr}.kpis{grid-template-columns:1fr 1fr}}
    @media (max-width:640px){
      .grid-3,.grid-2,.tips,.checklist,.res-list{grid-template-columns:1fr}
      .hero{padding:56px 0 28px}
      .hero .lead{max-width:100%}
      .kpis{grid-template-columns:1fr}
      .nav .hide-sm{display:none}
    }
    /* Focus ring */
    :focus-visible{outline:3px solid var(--ring);outline-offset:2px;border-radius:10px}
  </style>
</head>
<body>
  <a class="sr-only" href="#main">본문 바로가기</a>
  <!-- Header -->
  <header class="header">
    <div class="container nav">
      <div class="brand"><span class="logo" aria-hidden="true">E</span> ESG Korea</div>
      <nav class="hide-sm" aria-label="주요 섹션">
        <a href="#about">소개</a>
        <a href="#pillars">E·S·G</a>
        <a href="#tips">꿀팁</a>
        <a href="#check">체크리스트</a>
        <a href="#resources">자료</a>
        <a href="#faq">FAQ</a>
      </nav>
      <div class="right">
        <button id="themeToggle" class="chip" aria-pressed="false" title="다크모드 전환">🌓 <span class="hide-sm">테마</span></button>
        <a class="btn" href="#check" aria-label="나의 ESG 점수 확인">나의 ESG 점수</a>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <section class="hero" id="main">
    <div class="container">
      <span class="tag">대한민국 ESG 캠페인</span>
      <h1 class="title">일상에서 시작하는 <span style="color:var(--primary)">ESG</span></h1>
      <p class="lead">복잡한 용어는 최소화하고, 오늘 바로 실천할 수 있는 가이드를 담았습니다. 한 페이지로 핵심만 빠르게 이해하고 참여하세요.</p>
      <div class="hero-cta">
        <a class="btn" href="#tips">실천 꿀팁 보기</a>
        <a class="btn ghost" href="#pillars">ESG 3가지 축 이해하기</a>
      </div>
      <div class="kpis" aria-label="ESG 실천 지표">
        <div class="kpi"><div class="eyebrow">오늘 체크 완료</div><b id="kpi1">0</b><div class="muted">명이 체크리스트를 완료했어요*</div></div>
        <div class="kpi"><div class="eyebrow">실천 가능한 팁</div><b>30+</b><div class="muted">집·회사·가게에서 바로 적용</div></div>
        <div class="kpi"><div class="eyebrow">소요 시간</div><b>3분</b><div class="muted">핵심만 빠르게</div></div>
      </div>
      <p class="muted" style="margin-top:8px;font-size:12px">*브라우저 기준 로컬 집계 데모</p>
    </div>
  </section>

  <!-- About ESG -->
  <section id="about">
    <div class="container">
      <div class="h">
        <h2>ESG란 무엇인가요?</h2>
        <span class="eyebrow">Environment · Social · Governance</span>
      </div>
      <div class="grid-3">
        <article class="card">
          <h3>Environment · 환경</h3>
          <p class="muted">에너지 절감, 자원 순환, 탄소 배출 저감 등 지구를 위한 선택입니다. 가정과 사무실 모두에서 가능합니다.</p>
          <ul>
            <li>불필요한 대기전력 차단</li>
            <li>분리배출 정확도 높이기</li>
            <li>대중교통·도보·자전거 이용</li>
          </ul>
        </article>
        <article class="card">
          <h3>Social · 사회</h3>
          <p class="muted">안전, 다양성, 지역상생, 개인정보 보호 등 사람을 중심에 둡니다.</p>
          <ul>
            <li>동네가게·사회적기업 이용</li>
            <li>직장 내 존중 문화·안전 수칙</li>
            <li>데이터 최소 수집·보호</li>
          </ul>
        </article>
        <article class="card">
          <h3>Governance · 지배구조</h3>
          <p class="muted">투명한 의사결정, 책임 있는 운영, 윤리 준수입니다. 개인·조직 모두 해당됩니다.</p>
          <ul>
            <li>지출·의사결정 기록·공유</li>
            <li>이해관계 충돌 방지</li>
            <li>공정한 계약·정산</li>
          </ul>
        </article>
      </div>
    </div>
  </section>

  <!-- Pillars micro-cards -->
  <section id="pillars">
    <div class="container">
      <div class="h">
        <h2>핵심 원칙 6</h2>
        <div class="eyebrow">쉽고, 측정 가능하고, 반복 가능한 행동</div>
      </div>
      <div class="grid-3">
        <div class="card"><h3>01. 줄이기</h3><p class="muted">불필요한 소비와 에너지 사용을 줄여요.</p></div>
        <div class="card"><h3>02. 바꾸기</h3><p class="muted">일회용 → 다회용, 내연 → 대중·자전거.</p></div>
        <div class="card"><h3>03. 나누기</h3><p class="muted">중고·공유·기부로 수명을 늘려요.</p></div>
        <div class="card"><h3>04. 확인하기</h3><p class="muted">라벨·성분·공시를 보고 고릅니다.</p></div>
        <div class="card"><h3>05. 지키기</h3><p class="muted">안전·인권·개인정보는 기본입니다.</p></div>
        <div class="card"><h3>06. 기록하기</h3><p class="muted">습관과 성과를 기록·공유하면 퍼집니다.</p></div>
      </div>
    </div>
  </section>

  <!-- Tips with filters -->
  <section id="tips">
    <div class="container">
      <div class="h">
        <h2>오늘부터 가능한 꿀팁</h2>
        <div class="filters" role="toolbar" aria-label="팁 필터">
          <button class="filter" data-pillars="all" aria-pressed="true">전체</button>
          <button class="filter" data-pillars="E">환경(E)</button>
          <button class="filter" data-pillars="S">사회(S)</button>
          <button class="filter" data-pillars="G">지배구조(G)</button>
          <button class="filter" data-pillars="home">가정</button>
          <button class="filter" data-pillars="office">사무실</button>
          <button class="filter" data-pillars="shop">가게</button>
        </div>
      </div>
      <div class="tips" id="tipsGrid">
        <!-- Each tip: data-tags="E,S,G,home,office,shop" -->
        <article class="card tip" data-tags="E home">
          <div class="ic" aria-hidden="true">♻️</div>
          <div><h3>분리배출 정확도 10%만 올리기</h3><p class="muted">라벨 제거·세척·건조 3스텝, 플라스틱·종이·캔 기본만 정확하게.</p></div>
        </article>
        <article class="card tip" data-tags="E office">
          <div class="ic">🔌</div>
          <div><h3>대기전력 차단 멀티탭</h3><p class="muted">퇴근 전 한 번에 OFF. 월 전기요금 즉시 절감.</p></div>
        </article>
        <article class="card tip" data-tags="S shop">
          <div class="ic">🤝</div>
          <div><h3>동네가게·사회적기업 먼저 찾기</h3><p class="muted">구매가 곧 지역 상생. 리뷰로 좋은 경험을 확산.</p></div>
        </article>
        <article class="card tip" data-tags="G office">
          <div class="ic">🧾</div>
          <div><h3>영수증·의사결정 기록 남기기</h3><p class="muted">팀 지출과 회의를 문서로 남겨 투명성 확보.</p></div>
        </article>
        <article class="card tip" data-tags="S home">
          <div class="ic">🔒</div>
          <div><h3>개인정보 최소 제공</h3><p class="muted">서비스 가입 시 선택 항목은 과감히 미동의.</p></div>
        </article>
        <article class="card tip" data-tags="E home">
          <div class="ic">🚿</div>
          <div><h3>샤워 1분 단축</h3><p class="muted">가구당 연간 물·가스 절감. 난방기 사용도 줄어듭니다.</p></div>
        </article>
        <article class="card tip" data-tags="S office">
          <div class="ic">🧯</div>
          <div><h3>안전 점검 Day</h3><p class="muted">소화기·비상구·전선 정리 등 기본 점검을 주 1회.</p></div>
        </article>
        <article class="card tip" data-tags="G shop">
          <div class="ic">📣</div>
          <div><h3>가격·원산지·정책 공개</h3><p class="muted">가게 운영 원칙을 게시하면 신뢰도가 높아집니다.</p></div>
        </article>
        <article class="card tip" data-tags="E office">
          <div class="ic">🖨️</div>
          <div><h3>양면·흑백·미리보기 인쇄</h3><p class="muted">인쇄물 30% 절감 목표로 팀 규칙 만들기.</p></div>
        </article>
      </div>
    </div>
  </section>

  <!-- Checklist / Scoring -->
  <section id="check">
    <div class="container">
      <div class="h">
        <h2>나의 ESG 체크리스트 (12)</h2>
        <div class="score" aria-live="polite">
          <strong id="scoreText">0 / 12</strong>
          <div class="meter" aria-hidden="true"><i id="meterBar"></i></div>
          <span id="scoreBadge" class="chip">시작해봐요</span>
        </div>
      </div>
      <div class="checklist" id="checklist">
        <!-- E -->
        <label class="card item"><input type="checkbox" data-k="E1"><div><b>멀티탭으로 대기전력 차단</b><div class="muted">하루 8시간 OFF 목표</div></div></label>
        <label class="card item"><input type="checkbox" data-k="E2"><div><b>텀블러·다회용기 사용</b><div class="muted">하루 1회부터</div></div></label>
        <label class="card item"><input type="checkbox" data-k="E3"><div><b>분리배출 3스텝 준수</b><div class="muted">라벨 제거·세척·건조</div></div></label>
        <label class="card item"><input type="checkbox" data-k="E4"><div><b>주 2일 대중교통·자전거</b><div class="muted">이동 탄소 줄이기</div></div></label>
        <!-- S -->
        <label class="card item"><input type="checkbox" data-k="S1"><div><b>직장 내 존댓말·호칭 문화</b><div class="muted">회의록에 약속 기록</div></div></label>
        <label class="card item"><input type="checkbox" data-k="S2"><div><b>안전 점검·비상훈련 참여</b><div class="muted">분기 1회 이상</div></div></label>
        <label class="card item"><input type="checkbox" data-k="S3"><div><b>지역상생 소비</b><div class="muted">월 1회 동네가게·사회적기업</div></div></label>
        <label class="card item"><input type="checkbox" data-k="S4"><div><b>데이터 최소 수집</b><div class="muted">선택항목 비동의 기본</div></div></label>
        <!-- G -->
        <label class="card item"><input type="checkbox" data-k="G1"><div><b>지출·의사결정 기록</b><div class="muted">누가·왜·어떻게</div></div></label>
        <label class="card item"><input type="checkbox" data-k="G2"><div><b>이해관계 충돌 신고 경로 숙지</b><div class="muted">팀 내 공유</div></div></label>
        <label class="card item"><input type="checkbox" data-k="G3"><div><b>공정 계약·정산 지키기</b><div class="muted">표준계약서 활용</div></div></label>
        <label class="card item"><input type="checkbox" data-k="G4"><div><b>문서 보안·권한 관리</b><div class="muted">보관기간·접근권한 명시</div></div></label>
      </div>
      <div style="margin-top:16px;display:flex;gap:8px;flex-wrap:wrap">
        <button class="btn" id="saveScore">결과 저장</button>
        <button class="btn ghost" id="resetScore">초기화</button>
        <button class="btn ghost" id="shareBtn">공유 링크 복사</button>
      </div>
      <p class="muted" style="margin-top:8px;font-size:12px">개인 브라우저에만 저장됩니다. 서버 전송 없음.</p>
    </div>
  </section>

  <!-- Resources -->
  <section id="resources">
    <div class="container">
      <div class="h">
        <h2>자료 모음</h2>
        <span class="eyebrow">가이드·체크리스트·인쇄물</span>
      </div>
      <div class="res-list">
        <div class="res"><div><b>ESG 초짜를 위한 2분 요약</b><div class="muted">핵심 개념과 오해 풀기</div></div><a href="#" role="button">PDF</a></div>
        <div class="res"><div><b>가정용 분리배출 포스터</b><div class="muted">프린트해서 냉장고에 붙이기</div></div><a href="#" role="button">PNG</a></div>
        <div class="res"><div><b>사무실용 체크리스트</b><div class="muted">팀 단위 주간 점검표</div></div><a href="#" role="button">XLSX</a></div>
        <div class="res"><div><b>가게(소상공) 투명경영 보드</b><div class="muted">가격·원산지·정책 한 장</div></div><a href="#" role="button">PDF</a></div>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq">
    <div class="container">
      <div class="h"><h2>자주 묻는 질문</h2></div>
      <details><summary>ESG는 기업만 하는 건가요?</summary><p>아니요. 가정·회사·가게 등 누구나 일상에서 실천할 수 있습니다. 기업의 ESG도 결국 개인의 선택이 모여 만들어집니다.</p></details>
      <details><summary>무엇부터 시작하면 좋을까요?</summary><p>가장 쉬운 행동 1~2개를 정해 2주간 반복해 보세요. 예: 대기전력 차단, 다회용기 사용.</p></details>
      <details><summary>성과는 어떻게 측정하나요?</summary><p>전기·수도요금, 인쇄량, 회의록·지출 기록 등 <b>수치화 가능한 항목</b>을 정하고 월별로 비교합니다.</p></details>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div style="display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap">
        <div>
          <div class="brand"><span class="logo">E</span> ESG Korea</div>
          <p style="max-width:520px">이 페이지는 ESG를 <b>쉽고 빠르게</b> 이해하고 실천하도록 돕는 공개 가이드입니다. 누구나 공유하고 활용할 수 있습니다.</p>
        </div>
        <div>
          <button class="chip" id="copyUrl">링크 복사</button>
          <button class="chip" id="toTop">맨 위로</button>
        </div>
      </div>
      <p style="margin-top:12px;font-size:12px" class="muted">© 2025 ESG Korea · 개인정보 수집 없음</p>
    </div>
  </footer>

  <!-- Floating Actions -->
  <div class="actions" aria-label="빠른 실행">
    <button class="fab" id="fabCheck" title="체크리스트로 이동">✔</button>
    <button class="fab" id="fabShare" title="페이지 공유">⤴︎</button>
  </div>
  <div class="toast" id="toast" role="status" aria-live="polite">복사되었습니다</div>

  <script>
    // ---- Theme Toggle (light/dark/auto) ----
    (function(){
      const key='esg-theme';
      const btn=document.getElementById('themeToggle');
      const saved=localStorage.getItem(key);
      if(saved){document.documentElement.setAttribute('data-theme',saved);btn.setAttribute('aria-pressed',saved!=='light')}
      btn.addEventListener('click',()=>{
        const cur=document.documentElement.getAttribute('data-theme')||'light';
        const next=cur==='dark'?'light':'dark';
        document.documentElement.setAttribute('data-theme',next);
        localStorage.setItem(key,next);
        btn.setAttribute('aria-pressed',next!=='light')
      })
    })();

    // ---- Hero KPI demo counter (local) ----
    (function(){
      const k='esg-kpi-count';
      const el=document.getElementById('kpi1');
      const n=parseInt(localStorage.getItem(k)||'0',10); el.textContent=n;
      document.getElementById('saveScore').addEventListener('click',()=>{
        const m=parseInt(localStorage.getItem(k)||'0',10)+1; localStorage.setItem(k,m); el.textContent=m;
      })
    })();

    // ---- Tips filtering ----
    (function(){
      const filters=[...document.querySelectorAll('.filter')];
      const tips=[...document.querySelectorAll('.tip')];
      function apply(tag){
        tips.forEach(t=>{
          const has = tag==='all' || t.dataset.tags.split(' ').includes(tag);
          t.dataset.hide = has? 'false':'true';
        });
      }
      filters.forEach(b=>b.addEventListener('click',()=>{
        filters.forEach(x=>x.setAttribute('aria-pressed','false'));
        b.setAttribute('aria-pressed','true');
        apply(b.dataset.pillars);
      }));
    })();

    // ---- Checklist scoring ----
    (function(){
      const items=[...document.querySelectorAll('#checklist input[type="checkbox"]')];
      const scoreText=document.getElementById('scoreText');
      const bar=document.getElementById('meterBar');
      const badge=document.getElementById('scoreBadge');
      const key='esg-checks';
      // load
      const saved=JSON.parse(localStorage.getItem(key)||'{}');
      items.forEach(i=>{ if(saved[i.dataset.k]) i.checked=true;});
      update();
      items.forEach(i=> i.addEventListener('change',()=>{saved[i.dataset.k]=i.checked;update();}));

      function grade(n){
        if(n<=3) return '시작해봐요';
        if(n<=7) return '좋아요';
        if(n<=10) return '아주 좋음';
        return 'Excellent';
      }
      function update(){
        const n=items.filter(i=>i.checked).length;
        scoreText.textContent=`${n} / ${items.length}`;
        const pct=Math.round(n/items.length*100);
        bar.style.width=pct+'%';
        badge.textContent=grade(n);
        localStorage.setItem(key,JSON.stringify(saved));
      }
      document.getElementById('saveScore').addEventListener('click',()=>{
        toast('체크 결과가 저장되었습니다');
      });
      document.getElementById('resetScore').addEventListener('click',()=>{
        items.forEach(i=> i.checked=false); Object.keys(saved).forEach(k=> delete saved[k]); update(); toast('초기화 완료');
      });
    })();

    // ---- Share / Copy / FAB ----
    (function(){
      const shareBtn=document.getElementById('shareBtn');
      const copyUrl=document.getElementById('copyUrl');
      const fabShare=document.getElementById('fabShare');
      const fabCheck=document.getElementById('fabCheck');
      shareBtn.addEventListener('click',copy);
      copyUrl.addEventListener('click',copy);
      fabShare.addEventListener('click',copy);
      fabCheck.addEventListener('click',()=>document.getElementById('check').scrollIntoView({behavior:'smooth'}));
      function copy(){
        const url=location.href;
        (navigator.clipboard?navigator.clipboard.writeText(url):Promise.reject()).then(()=>toast('링크가 복사되었습니다')).catch(()=>{
          const t=document.createElement('textarea'); t.value=url; document.body.appendChild(t); t.select(); try{document.execCommand('copy');toast('링크가 복사되었습니다')}finally{t.remove()}
        })
      }
    })();

    // ---- Toast ----
    function toast(msg){
      const el=document.getElementById('toast');
      el.textContent=msg; el.classList.add('show');
      setTimeout(()=>el.classList.remove('show'),1600);
    }

    // ---- Back to top ----
    document.getElementById('toTop').addEventListener('click',()=>window.scrollTo({top:0,behavior:'smooth'}));
  </script>
</body>
</html>